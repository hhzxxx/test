<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
	<script th:fragment="jsVar" xmlns:th="http://www.springframework.org/schema/mvc" type="text/javascript" th:inline="javascript">  
        /*<![CDATA[*/ 
        var ctx = /*[[@{/}]]*/ '';
        var static_server = /*[[${static_server}]]*/ '';
        var base_path = /*[[${#httpServletRequest.getScheme() + "://" + #httpServletRequest.getServerName() + ":" + #httpServletRequest.getServerPort() + #httpServletRequest.getContextPath()}]]*/;
        var http_path = /*[[${#httpServletRequest.getScheme() + "://" + #httpServletRequest.getServerName() + ":" + #httpServletRequest.getServerPort() }]]*/;
        /*]]>*/

		//from表单转json对象
		$.fn.serializeJson=function(){
			var serializeObj={};
			var array=this.serializeArray();
			var str=this.serialize();
			$(array).each(function(){
				if(serializeObj[this.name]){
					if($.isArray(serializeObj[this.name])){
						serializeObj[this.name].push(this.value);
					}else{
						serializeObj[this.name]=[serializeObj[this.name],this.value];
					}
				}else{
					serializeObj[this.name]=this.value;
				}
			});
			return serializeObj;
		};
        
        /**************************************时间格式化处理-start************************************/
    	function dateFtt(fmt,date) { 
    		var o = {   
    		    "M+" : date.getMonth()+1,                 //月份   
    		    "d+" : date.getDate(),                    //日   
    		    "h+" : date.getHours(),                   //小时   
    		    "m+" : date.getMinutes(),                 //分   
    		    "s+" : date.getSeconds(),                 //秒   
    		    "q+" : Math.floor((date.getMonth()+3)/3), //季度   
    		    "S"  : date.getMilliseconds()             //毫秒   
    	  	};   
    	  	if(/(y+)/.test(fmt))   
    	    	fmt=fmt.replace(RegExp.$1, (date.getFullYear()+"").substr(4 - RegExp.$1.length));   
    	  	for(var k in o)   
    	    	if(new RegExp("("+ k +")").test(fmt))   
    	  			fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : (("00"+ o[k]).substr((""+ o[k]).length)));   
    	  		return fmt;   
    	}
    	
    	/**修复ios下时间显示bug
    	*时间格式由"2016-05-31 08:00"改为"2016/05/31 08:00"
    	*/
    	function GetDateDiff(diffTime) {
    		if(diffTime){
	    		//将xxxx-xx-xx的时间格式，转换为 xxxx/xx/xx的格式 
	          	return diffTime.replace(/\-/g, "/");
    		}
    		return null;
        }
           /**将分钟转换成xx小时xx分钟*/
    	function changeHourMinutestr(str) {
    		var hours = Math.floor(str / 60).toString();
    		var minutes = (str % 60).toString();
    		if (str !== '0' && str !== '' && str !== null) {
    			return hours + '小时' + (minutes.length < 2 ? '0' + minutes : minutes) + '分钟';
    		} else {
    			return "-";
    		}
    	}
    	/**************************************时间格式化处理-END************************************/

</script> 
</body>
</html>